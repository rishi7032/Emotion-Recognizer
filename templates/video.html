{% extends 'main.html' %}

{% block content %}
    <div class="text-center mt-4">
        <video id="video" class="img-fluid img-thumbnail shadow" autoplay playsinline></video>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const video = document.getElementById("video");

            // Prompt the user for camera access
            navigator.mediaDevices.getUserMedia({ video: true })
                .then((stream) => {
                    video.srcObject = stream;
                })
                .catch((error) => {
                    console.error("Error accessing the camera:", error);
                    alert("Failed to access the camera. Please ensure the camera is connected and permissions are granted.");
                });
        });
    </script>
{% endblock %}
